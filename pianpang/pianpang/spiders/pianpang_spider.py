import scrapy, re
from pianpang.items import PianpangItem

class PianpangSpider(scrapy.Spider):
    name = "pianpang"
    start_urls = [
        'http://xh.5156edu.com/html/1.html',
        'http://xh.5156edu.com/html/2.html',
        'http://xh.5156edu.com/html/3.html',
        'http://xh.5156edu.com/html/4.html',
        'http://xh.5156edu.com/html/5.html',
        'http://xh.5156edu.com/html/6.html',
        'http://xh.5156edu.com/html/7.html',
        'http://xh.5156edu.com/html/8.html',
        'http://xh.5156edu.com/html/201.html',
        'http://xh.5156edu.com/html/202.html',
        'http://xh.5156edu.com/html/203.html',
        'http://xh.5156edu.com/html/204.html',
        'http://xh.5156edu.com/html/205.html',
        'http://xh.5156edu.com/html/206.html',
        'http://xh.5156edu.com/html/207.html',
        'http://xh.5156edu.com/html/208.html',
        'http://xh.5156edu.com/html/209.html',
        'http://xh.5156edu.com/html/210.html',
        'http://xh.5156edu.com/html/211.html',
        'http://xh.5156edu.com/html/212.html',
        'http://xh.5156edu.com/html/213.html',
        'http://xh.5156edu.com/html/214.html',
        'http://xh.5156edu.com/html/215.html',
        'http://xh.5156edu.com/html/216.html',
        'http://xh.5156edu.com/html/217.html',
        'http://xh.5156edu.com/html/218.html',
        'http://xh.5156edu.com/html/219.html',
        'http://xh.5156edu.com/html/220.html',
        'http://xh.5156edu.com/html/221.html',
        'http://xh.5156edu.com/html/222.html',
        'http://xh.5156edu.com/html/223.html',
        'http://xh.5156edu.com/html/224.html',
        'http://xh.5156edu.com/html/225.html',
        'http://xh.5156edu.com/html/226.html',
        'http://xh.5156edu.com/html/227.html',
        'http://xh.5156edu.com/html/228.html',
        'http://xh.5156edu.com/html/229.html',
        'http://xh.5156edu.com/html/301.html',
        'http://xh.5156edu.com/html/302.html',
        'http://xh.5156edu.com/html/303.html',
        'http://xh.5156edu.com/html/304.html',
        'http://xh.5156edu.com/html/305.html',
        'http://xh.5156edu.com/html/306.html',
        'http://xh.5156edu.com/html/307.html',
        'http://xh.5156edu.com/html/308.html',
        'http://xh.5156edu.com/html/309.html',
        'http://xh.5156edu.com/html/310.html',
        'http://xh.5156edu.com/html/311.html',
        'http://xh.5156edu.com/html/312.html',
        'http://xh.5156edu.com/html/313.html',
        'http://xh.5156edu.com/html/314.html',
        'http://xh.5156edu.com/html/315.html',
        'http://xh.5156edu.com/html/316.html',
        'http://xh.5156edu.com/html/317.html',
        'http://xh.5156edu.com/html/318.html',
        'http://xh.5156edu.com/html/319.html',
        'http://xh.5156edu.com/html/320.html',
        'http://xh.5156edu.com/html/321.html',
        'http://xh.5156edu.com/html/322.html',
        'http://xh.5156edu.com/html/323.html',
        'http://xh.5156edu.com/html/324.html',
        'http://xh.5156edu.com/html/325.html',
        'http://xh.5156edu.com/html/326.html',
        'http://xh.5156edu.com/html/327.html',
        'http://xh.5156edu.com/html/328.html',
        'http://xh.5156edu.com/html/329.html',
        'http://xh.5156edu.com/html/330.html',
        'http://xh.5156edu.com/html/331.html',
        'http://xh.5156edu.com/html/332.html',
        'http://xh.5156edu.com/html/333.html',
        'http://xh.5156edu.com/html/334.html',
        'http://xh.5156edu.com/html/335.html',
        'http://xh.5156edu.com/html/336.html',
        'http://xh.5156edu.com/html/337.html',
        'http://xh.5156edu.com/html/338.html',
        'http://xh.5156edu.com/html/339.html',
        'http://xh.5156edu.com/html/340.html',
        'http://xh.5156edu.com/html/341.html',
        'http://xh.5156edu.com/html/342.html',
        'http://xh.5156edu.com/html/343.html',
        'http://xh.5156edu.com/html/344.html',
        'http://xh.5156edu.com/html/401.html',
        'http://xh.5156edu.com/html/402.html',
        'http://xh.5156edu.com/html/403.html',
        'http://xh.5156edu.com/html/404.html',
        'http://xh.5156edu.com/html/405.html',
        'http://xh.5156edu.com/html/406.html',
        'http://xh.5156edu.com/html/407.html',
        'http://xh.5156edu.com/html/408.html',
        'http://xh.5156edu.com/html/409.html',
        'http://xh.5156edu.com/html/410.html',
        'http://xh.5156edu.com/html/411.html',
        'http://xh.5156edu.com/html/412.html',
        'http://xh.5156edu.com/html/413.html',
        'http://xh.5156edu.com/html/414.html',
        'http://xh.5156edu.com/html/415.html',
        'http://xh.5156edu.com/html/416.html',
        'http://xh.5156edu.com/html/417.html',
        'http://xh.5156edu.com/html/418.html',
        'http://xh.5156edu.com/html/419.html',
        'http://xh.5156edu.com/html/420.html',
        'http://xh.5156edu.com/html/421.html',
        'http://xh.5156edu.com/html/422.html',
        'http://xh.5156edu.com/html/423.html',
        'http://xh.5156edu.com/html/424.html',
        'http://xh.5156edu.com/html/425.html',
        'http://xh.5156edu.com/html/426.html',
        'http://xh.5156edu.com/html/427.html',
        'http://xh.5156edu.com/html/428.html',
        'http://xh.5156edu.com/html/429.html',
        'http://xh.5156edu.com/html/430.html',
        'http://xh.5156edu.com/html/431.html',
        'http://xh.5156edu.com/html/432.html',
        'http://xh.5156edu.com/html/433.html',
        'http://xh.5156edu.com/html/434.html',
        'http://xh.5156edu.com/html/435.html',
        'http://xh.5156edu.com/html/436.html',
        'http://xh.5156edu.com/html/437.html',
        'http://xh.5156edu.com/html/438.html',
        'http://xh.5156edu.com/html/439.html',
        'http://xh.5156edu.com/html/440.html',
        'http://xh.5156edu.com/html/441.html',
        'http://xh.5156edu.com/html/442.html',
        'http://xh.5156edu.com/html/443.html',
        'http://xh.5156edu.com/html/444.html',
        'http://xh.5156edu.com/html/445.html',
        'http://xh.5156edu.com/html/446.html',
        'http://xh.5156edu.com/html/447.html',
        'http://xh.5156edu.com/html/448.html',
        'http://xh.5156edu.com/html/449.html',
        'http://xh.5156edu.com/html/450.html',
        'http://xh.5156edu.com/html/451.html',
        'http://xh.5156edu.com/html/452.html',
        'http://xh.5156edu.com/html/501.html',
        'http://xh.5156edu.com/html/502.html',
        'http://xh.5156edu.com/html/503.html',
        'http://xh.5156edu.com/html/504.html',
        'http://xh.5156edu.com/html/505.html',
        'http://xh.5156edu.com/html/506.html',
        'http://xh.5156edu.com/html/507.html',
        'http://xh.5156edu.com/html/508.html',
        'http://xh.5156edu.com/html/509.html',
        'http://xh.5156edu.com/html/510.html',
        'http://xh.5156edu.com/html/511.html',
        'http://xh.5156edu.com/html/512.html',
        'http://xh.5156edu.com/html/513.html',
        'http://xh.5156edu.com/html/514.html',
        'http://xh.5156edu.com/html/515.html',
        'http://xh.5156edu.com/html/516.html',
        'http://xh.5156edu.com/html/517.html',
        'http://xh.5156edu.com/html/518.html',
        'http://xh.5156edu.com/html/519.html',
        'http://xh.5156edu.com/html/520.html',
        'http://xh.5156edu.com/html/521.html',
        'http://xh.5156edu.com/html/522.html',
        'http://xh.5156edu.com/html/523.html',
        'http://xh.5156edu.com/html/524.html',
        'http://xh.5156edu.com/html/525.html',
        'http://xh.5156edu.com/html/526.html',
        'http://xh.5156edu.com/html/527.html',
        'http://xh.5156edu.com/html/528.html',
        'http://xh.5156edu.com/html/529.html',
        'http://xh.5156edu.com/html/601.html',
        'http://xh.5156edu.com/html/602.html',
        'http://xh.5156edu.com/html/603.html',
        'http://xh.5156edu.com/html/604.html',
        'http://xh.5156edu.com/html/605.html',
        'http://xh.5156edu.com/html/606.html',
        'http://xh.5156edu.com/html/607.html',
        'http://xh.5156edu.com/html/608.html',
        'http://xh.5156edu.com/html/609.html',
        'http://xh.5156edu.com/html/610.html',
        'http://xh.5156edu.com/html/611.html',
        'http://xh.5156edu.com/html/612.html',
        'http://xh.5156edu.com/html/613.html',
        'http://xh.5156edu.com/html/614.html',
        'http://xh.5156edu.com/html/615.html',
        'http://xh.5156edu.com/html/616.html',
        'http://xh.5156edu.com/html/617.html',
        'http://xh.5156edu.com/html/618.html',
        'http://xh.5156edu.com/html/619.html',
        'http://xh.5156edu.com/html/620.html',
        'http://xh.5156edu.com/html/621.html',
        'http://xh.5156edu.com/html/622.html',
        'http://xh.5156edu.com/html/623.html',
        'http://xh.5156edu.com/html/624.html',
        'http://xh.5156edu.com/html/625.html',
        'http://xh.5156edu.com/html/626.html',
        'http://xh.5156edu.com/html/627.html',
        'http://xh.5156edu.com/html/628.html',
        'http://xh.5156edu.com/html/629.html',
        'http://xh.5156edu.com/html/630.html',
        'http://xh.5156edu.com/html/701.html',
        'http://xh.5156edu.com/html/702.html',
        'http://xh.5156edu.com/html/703.html',
        'http://xh.5156edu.com/html/704.html',
        'http://xh.5156edu.com/html/705.html',
        'http://xh.5156edu.com/html/706.html',
        'http://xh.5156edu.com/html/707.html',
        'http://xh.5156edu.com/html/708.html',
        'http://xh.5156edu.com/html/709.html',
        'http://xh.5156edu.com/html/710.html',
        'http://xh.5156edu.com/html/711.html',
        'http://xh.5156edu.com/html/712.html',
        'http://xh.5156edu.com/html/713.html',
        'http://xh.5156edu.com/html/714.html',
        'http://xh.5156edu.com/html/715.html',
        'http://xh.5156edu.com/html/716.html',
        'http://xh.5156edu.com/html/717.html',
        'http://xh.5156edu.com/html/718.html',
        'http://xh.5156edu.com/html/719.html',
        'http://xh.5156edu.com/html/720.html',
        'http://xh.5156edu.com/html/721.html',
        'http://xh.5156edu.com/html/722.html',
        'http://xh.5156edu.com/html/723.html',
        'http://xh.5156edu.com/html/724.html',
        'http://xh.5156edu.com/html/801.html',
        'http://xh.5156edu.com/html/802.html',
        'http://xh.5156edu.com/html/803.html',
        'http://xh.5156edu.com/html/804.html',
        'http://xh.5156edu.com/html/805.html',
        'http://xh.5156edu.com/html/806.html',
        'http://xh.5156edu.com/html/807.html',
        'http://xh.5156edu.com/html/808.html',
        'http://xh.5156edu.com/html/809.html',
        'http://xh.5156edu.com/html/810.html',
        'http://xh.5156edu.com/html/811.html',
        'http://xh.5156edu.com/html/812.html',
        'http://xh.5156edu.com/html/813.html',
        'http://xh.5156edu.com/html/814.html',
        'http://xh.5156edu.com/html/815.html',
        'http://xh.5156edu.com/html/901.html',
        'http://xh.5156edu.com/html/902.html',
        'http://xh.5156edu.com/html/903.html',
        'http://xh.5156edu.com/html/904.html',
        'http://xh.5156edu.com/html/905.html',
        'http://xh.5156edu.com/html/906.html',
        'http://xh.5156edu.com/html/907.html',
        'http://xh.5156edu.com/html/908.html',
        'http://xh.5156edu.com/html/909.html',
        'http://xh.5156edu.com/html/910.html',
        'http://xh.5156edu.com/html/911.html',
        'http://xh.5156edu.com/html/1001.html',
        'http://xh.5156edu.com/html/1002.html',
        'http://xh.5156edu.com/html/1003.html',
        'http://xh.5156edu.com/html/1004.html',
        'http://xh.5156edu.com/html/1005.html',
        'http://xh.5156edu.com/html/1006.html',
        'http://xh.5156edu.com/html/1101.html',
        'http://xh.5156edu.com/html/1102.html',
        'http://xh.5156edu.com/html/1103.html',
        'http://xh.5156edu.com/html/1104.html',
        'http://xh.5156edu.com/html/1105.html',
        'http://xh.5156edu.com/html/1106.html',
        'http://xh.5156edu.com/html/1107.html',
        'http://xh.5156edu.com/html/1201.html',
        'http://xh.5156edu.com/html/1202.html',
        'http://xh.5156edu.com/html/1203.html',
        'http://xh.5156edu.com/html/1204.html',
        'http://xh.5156edu.com/html/1205.html',
        'http://xh.5156edu.com/html/1301.html',
        'http://xh.5156edu.com/html/1302.html',
        'http://xh.5156edu.com/html/1401.html',
        'http://xh.5156edu.com/html/1402.html',
        'http://xh.5156edu.com/html/1501.html',
        'http://xh.5156edu.com/html/1502.html',
        'http://xh.5156edu.com/html/1503.html',       
    ]

    def parse(self, response):
        title = response.xpath('//title/text()').extract()
        pp = title[0][0]
        for zi0 in response.xpath('//a[@class = "fontbox"]'):
            zi = zi0.extract()
            s1 = zi.split('<span>')[0]
            s2 = s1.split('>')[1]
            item = PianpangItem()
            item['pianpang'] = pp
            item['hanzi'] = s2
            yield item
            
